openapi: 3.0.1
info:
  description: <h1>Platform Repository Service</h1><p>Sage Bionetworks Platform</p>
  title: Provenance Service
  version: develop-SNAPSHOT
servers:
- url: ///rest
tags:
- description: "."
  name: Activities
paths:
  /repo/v1/activity:
    post:
      description: |-
        Create a new <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}"
        >Activity</a>. If the passed <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
        object contains a <a
        href="${org.sagebionetworks.repo.model.provenance.Used}" >Used</a> array,
        you must set the concreteType field of each Used subclass.
        <p>
        Access Control: READ access is granted to those users who can see a single Entity that
        was generated by this Activity.
        </p>
      operationId: create_activity
      parameters:
      - description: The user that is doing the create.
        explode: true
        in: query
        name: user_id
        required: true
        schema:
          type: number
        style: form
      requestBody:
        content:
          application/json:
            schema:
              description: |-
                Create a new <a
                href="${org.sagebionetworks.repo.model.provenance.Activity}"
                >Activity</a>. If the passed <a
                href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
                object contains a <a
                href="${org.sagebionetworks.repo.model.provenance.Used}" >Used</a> array,
                you must set the concreteType field of each Used subclass.
                <p>
                Access Control: READ access is granted to those users who can see a single Entity that
                was generated by this Activity.
                </p>
              format: binary
              type: string
        description: |-
          Create a new <a
          href="${org.sagebionetworks.repo.model.provenance.Activity}"
          >Activity</a>. If the passed <a
          href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
          object contains a <a
          href="${org.sagebionetworks.repo.model.provenance.Used}" >Used</a> array,
          you must set the concreteType field of each Used subclass.
          <p>
          Access Control: READ access is granted to those users who can see a single Entity that
          was generated by this Activity.
          </p>
        required: false
      responses:
        201:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/json_Activity'
          description: "."
      summary: Create a new.
      tags:
      - Activities
      x-codegen-request-body-name: body
      x-openapi-router-controller: synprov.controllers.activities_controller
  /repo/v1/activity/{id}:
    delete:
      description: |-
        Delete an <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
        <p><b>Access Control</b>: You must be the creator of the Activity to delete it.</p>
      operationId: delete_activity
      parameters:
      - description: The id of activity to delete.
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - description: The user that is deleting the activity.
        explode: true
        in: query
        name: user_id
        required: true
        schema:
          type: number
        style: form
      requestBody:
        content:
          application/json:
            schema:
              description: |-
                Delete an <a
                href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
                <p><b>Access Control</b>: You must be the creator of the Activity to delete it.</p>
              format: binary
              type: string
        description: |-
          Delete an <a
          href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
          <p><b>Access Control</b>: You must be the creator of the Activity to delete it.</p>
        required: false
      responses:
        204:
          content:
            application/json:
              schema:
                format: binary
                type: string
          description: "."
      summary: Delete an.
      tags:
      - Activities
      x-codegen-request-body-name: body
      x-openapi-router-controller: synprov.controllers.activities_controller
    get:
      description: |-
        Get an existing <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
        <p>
        <b>Access Control</b>: Granted to those users who can see a single Entity
        that was generated by this Activity.
        </p>
      operationId: get_activity
      parameters:
      - description: The ID of the activity to fetch.
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - description: The user that is doing the get.
        explode: true
        in: query
        name: user_id
        required: true
        schema:
          type: number
        style: form
      requestBody:
        content:
          application/json:
            schema:
              description: |-
                Get an existing <a
                href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
                <p>
                <b>Access Control</b>: Granted to those users who can see a single Entity
                that was generated by this Activity.
                </p>
              format: binary
              type: string
        description: |-
          Get an existing <a
          href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
          <p>
          <b>Access Control</b>: Granted to those users who can see a single Entity
          that was generated by this Activity.
          </p>
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/json_Activity'
          description: "."
      summary: Get an existing.
      tags:
      - Activities
      x-codegen-request-body-name: body
      x-openapi-router-controller: synprov.controllers.activities_controller
    put:
      description: |-
        Update an <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
        <p><b>Access Control</b>: You must be the creator of the Activity to modify it.</p>
      operationId: update_activity
      parameters:
      - description: The id of the activity to update.
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - description: The user that is doing the update.
        explode: true
        in: query
        name: user_id
        required: true
        schema:
          type: number
        style: form
      requestBody:
        content:
          application/json:
            schema:
              description: |-
                Update an <a
                href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
                <p><b>Access Control</b>: You must be the creator of the Activity to modify it.</p>
              format: binary
              type: string
        description: |-
          Update an <a
          href="${org.sagebionetworks.repo.model.provenance.Activity}">Activity</a>
          <p><b>Access Control</b>: You must be the creator of the Activity to modify it.</p>
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/json_Activity'
          description: "."
      summary: Update an.
      tags:
      - Activities
      x-codegen-request-body-name: body
      x-openapi-router-controller: synprov.controllers.activities_controller
  /repo/v1/activity/{id}/generated:
    get:
      description: |-
        <p>
        Get the <a href="${org.sagebionetworks.repo.model.Entity}">Entities</a>
        that were generatedBy an <a
        href="${org.sagebionetworks.repo.model.provenance.Activity}"
        >Activity</a>. Returns a <a
        href="${org.sagebionetworks.reflection.model.PaginatedResults}">
        PaginatedResults</a> of <a
        href="${org.sagebionetworks.repo.model.Reference}">Reference</a> objects.
        </p>
        <p>
        <b>Access Control</b>: This service will return References to all generatedBy
        Entities, regardless of whether you have access to resolve them into full
        Entity objects.
        </p>
      operationId: get_entities_generated_by
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 10
          format: int32
          type: integer
        style: form
      - explode: true
        in: query
        name: offset
        required: false
        schema:
          default: 0
          format: int32
          type: integer
        style: form
      - explode: true
        in: query
        name: user_id
        required: true
        schema:
          type: number
        style: form
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/json_PaginatedResultsOfReference'
            application/xml:
              schema:
                $ref: '#/components/schemas/json_PaginatedResultsOfReference'
          description: "."
      summary: "."
      tags:
      - Activities
      x-openapi-router-controller: synprov.controllers.activities_controller
components:
  schemas:
    json_Activity:
      example:
        id: '...'
        used:
        - concreteType: '...'
          wasExecuted: true
        - concreteType: '...'
          wasExecuted: true
        createdBy: '...'
        etag: '...'
        modifiedOn: 12345
        modifiedBy: '...'
        createdOn: 12345
        name: '...'
        description: '...'
      properties:
        id:
          type: string
        used:
          items:
            $ref: '#/components/schemas/json_Used'
          type: array
        createdBy:
          type: string
        etag:
          type: string
        modifiedOn:
          type: number
        modifiedBy:
          type: string
        createdOn:
          type: number
        name:
          type: string
        description:
          type: string
      title: Activity
      type: object
    json_PaginatedResultsOfReference:
      example:
        results:
        - targetVersionNumber: 12345
          targetId: '...'
        - targetVersionNumber: 12345
          targetId: '...'
        effectiveSchema: '...'
        totalNumberOfResults: 12345
      properties:
        results:
          items:
            $ref: '#/components/schemas/json_Reference'
          type: array
        effectiveSchema:
          type: string
        totalNumberOfResults:
          format: int64
          type: integer
      title: PaginatedResultsOfReference
      type: object
    json_Reference:
      example:
        targetVersionNumber: 12345
        targetId: '...'
      properties:
        targetVersionNumber:
          type: number
        targetId:
          type: string
      title: Reference
      type: object
    json_Used:
      example:
        concreteType: '...'
        wasExecuted: true
      properties:
        concreteType:
          type: string
        wasExecuted:
          type: boolean
      title: Used
      type: object
